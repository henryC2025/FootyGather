<!-- user-details.component.html -->

<div class="container" id="content-container">

  <div class="user-details-container">
    <h2>User Details</h2>
    <div>
      <label>Username: {{ user?.nickname }}</label>
      <br>
      <label>Email: {{ user?.email }}</label>
    </div>

    <hr>

    <h2>More Information</h2>
    <form [formGroup]="detailsForm" (ngSubmit)="onSubmit()" class="details-form">

      <!-- Profile Picture Section -->
      <div class="form-group">
        <label for="profilePicture" class="form-label">Add a Profile Picture</label>
        <input type="file" #fileInput id="profilePicture" accept="image/*" (change)="onFileSelected($event)">
        <img *ngIf="selectedFile" [src]="imagePreview" alt="Selected Image">

        <!-- Clear Image Button -->
        <br>
        <button id="fg-button" type="button" *ngIf="selectedFile" (click)="clearImage()">Clear Image</button>
      </div>

      <div class="form-group">
        <!-- <label for="firstName" class="form-label">Add Your First Name</label> -->
        <input type="text" id="firstName" formControlName="firstName" placeholder="What is your first name?"/>
      </div>

      <div class="form-group">
        <!-- <label for="firstName" class="form-label">Add Your First Name</label> -->
        <input type="text" id="lastName" formControlName="lastName" placeholder="What is your last name?"/>
      </div>

      <!-- ADD GOOGLE PLACES API HERE -->
      <div class="form-group">
        <!-- <label for="location" class="form-label">Where You Are Based</label> -->
        <input type="text" id="location" formControlName="location" #placesRef="ngx-places" ngx-gp-autocomplete (onAddressChange)="handleAddressChange($event)" placeholder="Where are you located?"/>
      </div>
      
      <div class="form-group">
        <!-- <label for="description" class="form-label">Add a Description</label> -->
        <textarea id="description" formControlName="description" placeholder="Tell us more about yourself"></textarea>
      </div>

      <div class="form-group">
        <!-- <label for="experience" class="form-label">Experience Level</label> -->
        <select id="experience" formControlName="experience">
          <option value="" disabled selected>Select your experience level</option>
          <option value="beginner">Beginner</option>
          <option value="intermediate">Intermediate</option>
          <option value="experienced">Experienced</option>
        </select>
      </div>      
    
      <div class="form-group checkbox-group">
        <input type="checkbox" id="subscribeToNotifications" formControlName="subscribeToNotifications">
        <label for="subscribeToNotifications" class="checkbox-label">Subscribe to Notifications</label>
      </div>
    
      <button id="fg-button" type="submit">Register</button>
    
    </form>
    
  </div>

</div>
